<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script>
        function upload(fileInput) {
            const axios = require('axios');
            const fs = require('fs');

            const fullUrl = `https://192.168.0.113/public.php/webdav/test.JPEG`;

            const config = {
                auth: {
                username: 'folder',
                password: ''
            },
            headers: {
                'X-Requested-With': 'XMLHttpRequest',
                'Content-Type': 'application/zip'
            }
            };

            const fileData = fs.readFileSync(filename);

            axios.put(fullUrl, fileData, config)
                .then(response => {
            console.log('File uploaded successfully!');
            // Handle the response
            })
            .catch(error => {
                console.error('Error uploading file:', error);
            });
        }



        function validateImage(fileInput) {
          var file = fileInput.files[0];
          
          if (!file) {
            alert("No file selected.");
            return;
          }
    
          var validImageTypes = ["image/jpeg", "image/png", "image/gif"];
    
          if (validImageTypes.indexOf(file.type) === -1) {
            alert("Invalid image format. Please select a JPEG, PNG, or GIF image.");
            return;
          }
          upload(fileInput);
        }
      </script>
</head>
<body>
    <h1>Bechatroniker Image upload v1</h1>
    <form action="" >
        <input type="file" onchange="validateImage(this)">
    </form>
    <p>Styling kumd nu xD</p>
    <p>vtl a nu iagent a lustige backstorry</p>
</body>
</html>